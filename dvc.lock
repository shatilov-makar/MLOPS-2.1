schema: '2.0'
stages:
  get_data:
    cmd: python3 scripts/data_scripts/get_data.py
    deps:
    - path: scripts/data_scripts/tokenize_text.py
      md5: 708b5f837eb4ad624a81e1e8109e0016
      size: 1195
    outs:
    - path: data/raw
      md5: c5717b4b83322806e8641f36d0e15974.dir
      size: 46337604
      nfiles: 1
  tokenize_text:
    cmd: python3 scripts/data_scripts/tokenize_text.py data/raw/train_raw.csv
    deps:
    - path: data/raw/train_raw.csv
      md5: ed3c799825db5682203677748a4acba5
      size: 46337604
    - path: scripts/data_scripts/tokenize_text.py
      md5: 708b5f837eb4ad624a81e1e8109e0016
      size: 1195
    outs:
    - path: data/stage1
      md5: 662ba483d2e848a1c79914c4aa0a954a.dir
      size: 98672637
      nfiles: 1
  remove_stopwords:
    cmd: python3 scripts/data_scripts/remove_stopwords.py data/stage1/train.pkl
    deps:
    - path: data/stage1/train.pkl
      md5: f7f411c9aec049f103265a4fccd467ae
      size: 98672637
    - path: scripts/data_scripts/remove_stopwords.py
      md5: fb3ecf2a6ef0e2039a1a13b04dbe7cf2
      size: 795
    outs:
    - path: data/stage2
      md5: 46c767b9e0b901f784d88d93f97053ac.dir
      size: 135360882
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage2/train.pkl
    deps:
    - path: data/stage2/train.pkl
      md5: 45ba07c751bbf63958c771f4596a02be
      size: 135360882
    - path: scripts/data_scripts/train_test_split.py
      md5: 0a2d850a5fa273d61e2c278943c91487
      size: 1208
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage3
      md5: 722e8bc835fb7115daa012eefbc2206c.dir
      size: 36747387
      nfiles: 2
    - path: tokenizer/tokenizer.pkl
      md5: e9c1e16837bf77d9ce3423b115e83a5e
      size: 156950795
  train:
    cmd: python3 scripts/model_scripts/train.py data/stage3/train.csv models/svm.pkl
      tokenizer/tokenizer.pkl
    deps:
    - path: data/stage3/train.csv
      md5: d1541680507199f226629d8ca057fab3
      size: 25679173
    - path: scripts/model_scripts/train.py
      md5: 7a499d88009baf2cbb564846ebc6e616
      size: 876
    - path: tokenizer/tokenizer.pkl
      md5: e9c1e16837bf77d9ce3423b115e83a5e
      size: 156950795
    params:
      params.yaml:
        train.C: 1
        train.gamma: 0.1
        train.kernel: linear
    outs:
    - path: models/svm.pkl
      md5: 149b5406a8002e79975fa28f7f96ac28
      size: 10979633
  evaluate:
    cmd: python3 scripts/model_scripts/evaluate.py data/stage3/test.csv models/svm.pkl
      tokenizer/tokenizer.pkl
    deps:
    - path: data/stage3/test.csv
      md5: 656a8ceb1aa3d7c99241225f5ecb6f0c
      size: 11068214
    - path: models/svm.pkl
      md5: 149b5406a8002e79975fa28f7f96ac28
      size: 10979633
    - path: scripts/model_scripts/evaluate.py
      md5: 3df68642e2921e416ba01f0d7141c6a4
      size: 714
    - path: tokenizer/tokenizer.pkl
      md5: e9c1e16837bf77d9ce3423b115e83a5e
      size: 156950795
    outs:
    - path: evaluate/score.json
      md5: 7dd4bac28fee2ea7c4b15cea5e1cb554
      size: 29
